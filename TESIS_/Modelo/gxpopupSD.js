gx.popup={lvl:-1,currentPopup:null,currentPrompt:null,showParentPopups:false,Class:function(a,b){this.id="";this.url="";this.autoresize=1;this.width=0;this.height=0;this.position=0;this.top=0;this.left=0;this.zindex=1000;this.lvl=-1;this.parentPopup=null;this.window=null;this.document=null;this.frameDocument=null;this.frameWindow=null;this.ReturnParms=[];this.RawReturnedParms=[];this.ModifCtrl=null;this.Opener=null;this.IsPrompt=(b!=undefined)?b:false;this.PromptIsGet=false;this.InternalPopup=null;this.OncloseCmds=[];this.CustomRenderGrid=null;this.EncryptParms=false;this.state="created";this.setPopupData=function(){if(a instanceof Array){this.url=a[0];this.autoresize=a[1];this.width=a[2];this.height=a[3];this.position=a[4];this.top=a[5];this.left=a[6];this.OncloseCmds=a[7]||[];this.ReturnParms=a[8]||[]}else{if(a.Url){this.url=a.Url;if(typeof(a.Autoresize)!="undefined"){this.autoresize=a.Autoresize}if(typeof(a.Width)!="undefined"){this.width=a.Width}if(typeof(a.Height)!="undefined"){this.height=a.Height}if(typeof(a.Position)!="undefined"){this.position=a.Position}if(typeof(a.Top)!="undefined"){this.top=a.Top}if(typeof(a.Left)!="undefined"){this.left=a.Left}if(typeof(a.OncloseCmds)!="undefined"){this.OncloseCmds=a.OncloseCmds}if(typeof(a.ReturnParms)!="undefined"){this.ReturnParms=a.ReturnParms}}}};this.open=function(){this.state="opening";var d=gx.popup.gxOpener();this.lvl=-1;if(d&&d.gx&&d.gx.popup.ext.win&&d.gx.popup.ext.win.gx){this.lvl=d.gx.popup.ext.win.gx.popup.lvl}else{this.lvl=gx.popup.lvl}if(document.gxPopup!=null){this.parentPopup=document.gxPopup;this.zindex=gx.popup.ext.zdx+document.gxPopup.zindex}else{this.zindex=gx.popup.ext.zdx}var g=this.url;if(this.IsPrompt==true){gx.popup.currentPrompt=this;var h="";var c=this.ReturnParms.length;for(var e=0;e<c;e++){if(!gx.lang.emptyObject(this.ReturnParms[e].Ctrl)){h+=gx.util.urlValue(this.ReturnParms[e].Ctrl)+","}else{if(typeof this.ReturnParms[e]=="string"){h+=gx.util.urlValue(this.ReturnParms[e])+","}else{if(this.CustomRenderGrid){var f=this.CustomRenderGrid.grid.getCellValue(this.ReturnParms[e].id);if(!gx.lang.emptyObject(f)){h+=gx.util.urlValue(f+"")+","}}else{if(!gx.lang.emptyObject(this.ReturnParms[e].id)){h+=gx.util.urlValue(gx.fn.getHidden(this.ReturnParms[e].id))+","}else{continue}}}}if((this.ReturnParms[e].isLastKey==true)&&(this.ReturnParms[e].isOut==true)&&(this.PromptIsGet==false)){gx.fn.setControlValue("_EventName",this.Opener.CmpContext);this.PromptIsGet=true}}if(this.ModifCtrl!=null){this.ModifCtrl.value=1}g+="?"+h}this.InternalPopup=gx.popup.Impl(this,g,this.autoresize,this.width,this.height,this.position,this.top,this.left)};this.getOutputParms=function(){var f=[];if(this.IsPrompt){var c=this.ReturnParms.length;for(var e=0;e<c;e++){var d=this.ReturnParms[e];if(d.isOut==true){f.push(d)}}}else{return this.ReturnParms}return f};this.close=function(m){this.state="closing";if(m){this.RawReturnedParms=m}gx.ajax.windowClosed(gx.popup.lvl);gx.popup.lvl--;if(this.frameWindow&&this.frameWindow.gx){if(this.IsPrompt==true){if(this.parentPopup==null){gx.popup.currentPrompt=null
}else{this.parentPopup.frameWindow.gx.popup.currentPrompt=null}}this.frameWindow.gx.evt.onunload.call(this.frameWindow);this.frameDocument.gxPopup=null;this.frameDocument=null;this.frameWindow=null}gx.popup.ext.close(this);var d=this.getOutputParms();if((m!=null)&&(this.IsPrompt==true)){var h=m.length;var f=gx.popup.assignPromptField;var l=gx.popup;if(!gx.lang.emptyObject(this.CustomRenderGrid)){f=this.CustomRenderGrid.grid.setCellValue;l=this.CustomRenderGrid.grid}for(var g=0;g<h;g++){f.apply(l,[d[g],m[g]])}if(this.PromptIsGet){gx.csv.loadScreen()}else{try{var k=null;h=d.length;for(var g=0;g<h;g++){var c=d[g].Ctrl;if(gx.fn.isAccepted(c)){k=c}}if(k){gx.fn.setFocus(k)}gx.evt.ctrlOnchange(gx.fn.getControlValue(this.Opener.CmpContext+"Mode"),gx.fn.getControlValue(this.Opener.CmpContext+"IsConfirmed"),(typeof(window.GXPkIsDirty)=="undefined"?false:window.GXPkIsDirty),null,"eng")}catch(j){gx.dbg.logEx(j,"gxpopup.js","close")}}}else{if(m){if(d&&d instanceof Array&&d.length>0){gx.fn.setReturnParms(this.Opener,d,m)}}}gx.ajax.dispatchCommands(this.OncloseCmds);this.cleanup();this.state="closed"};this.setFocusFirst=function(){if(this.frameWindow.gx){this.frameWindow.gx.fn.setFocusOnload()}};this.cleanup=function(){try{this.OncloseCmds=[];this.ReturnParms=[];this.PromptIsGet=false;this.InternalPopup=null;this.window=null;this.document=null;this.Opener=null;this.parentPopup=null;this.RawReturnedParms=[];this.ModifCtrl=null;this.InternalPopup=null;this.CustomRenderGrid=null;this.EncryptParms=false}catch(c){gx.dbg.logEx(c,"gxpopup.js","popupObj.cleanup")}};this.setPopupData()},gxOpener:function(){var a=null;try{parent.gxTestAvailable=1;a=parent}catch(b){gx.dbg.logEx(b,"gxpopup.js","gxOpener")}return a},setFocus:function(){var a=this.getPopup();if(a){a.window.frames[0].focus()}},ispopup:function(){return(this.getPopup()!=null)},popupurl:function(){return this.getPopup().url},waitCallback:function(b){var a=gx.popup.getPopup();if(a){if(a.state=="opened"){b()}else{gx.lang.doCallTimeout(gx.popup.waitCallback,gx.popup,[b],50)}}else{b()}},getPopup:function(){var a=this.gxOpener();if(!gx.lang.emptyObject(a)&&!gx.lang.emptyObject(a.gx)){return a.gx.popup.currentPopup}return null},setPopup:function(a){this.currentPopup=a},open:function(a){return this.openPopup(a)},openUrl:function(a,b,f){var i=1;var g=0;var e=0;var c=0;var j=0;var d=0;if(f){i=f[0];g=f[1];e=f[2];c=f[3];j=f[4];d=f[5]}return this.openPopup([a,i,g,e,c,j,d,[],b])},openPopup:function(a){var b=new this.Class(a,false);b.Opener=gx.O;b.open();return b},openPrompt:function(n,f,g,k,m,l,j){if(gx.popup.currentPrompt==null){var d=f[0].Ctrl;var i=false;var e;var c;var a;if(d){e=gx.fn.rowGridId(d);c=gx.fn.controlRowId(d);if(!gx.lang.emptyObject(e)&&!gx.lang.emptyObject(c)){gx.csv.lastGrid=e;gx.fn.setCurrentGridRow(e,c)}}else{var h=gx.O.getValidStructFld(f[0].id);if(!gx.lang.emptyObject(h)){a=gx.O.getGridById(h.grid);if(a){i=a.isUsercontrol;if(i){e=a.gridId+"";c=(!gx.lang.emptyObject(a.grid.getSelectedRow))?gx.text.padl(a.grid.getSelectedRow()+"",4,"0"):undefined;
if(!gx.lang.emptyObject(e)&&!gx.lang.emptyObject(c)){gx.csv.lastGrid=e;gx.fn.setCurrentGridRow(e,c)}}}}}if(!l&&!this.outParmsAccepted(f)&&!i){return}var b=new this.Class([n,1,0,0,0,0,0,[],f],true);b.IsMod=g;b.Opener=gx.getObj(k,m);b.CustomRenderGrid=a;b.EncryptParms=j;b.open()}},outParmsAccepted:function(b){var a=b.length;var c=false;for(var d=0;d<a;d++){var e=b[d];if(e.isOut){c=true}if(e.isOut&&e.Ctrl&&gx.fn.isAccepted(e.Ctrl)){return true}}return !c},gxReturn:function(a){gx.fn.closeWindow(a)},parmId:function(a){var b=gx.dom.id(a);if(b.indexOf("span_")==0){b=b.substring(5)}return b},assignPromptField:function(b,c){if(gx.lang.emptyObject(b)){return}gx.csv.pkDirty=b.isKey;if(!b.Ctrl){return}if(b.Ctrl.type=="checkbox"&&b.Ctrl.value!=c){b.Ctrl.checked=!b.Ctrl.checked}if(b.Ctrl.value!=c&&b.isKey){gx.popup.gxOpener().GXPkIsDirty=true}var a=gx.O.getCtrlIdx(b.Ctrl.id);if(a){if(a>gx.O.toValid){gx.O.toValid=a}gx.csv.validateAll()}var e=gx.csv.ctxControlId(this.parmId(b.Ctrl));var g=gx.O.getValidStructFld(e);if(!gx.lang.emptyObject(g)&&!gx.lang.emptyObject(g.v2c)&&(g.type=="date"||g.type=="dtime")){g.v2v(c);g.v2c()}else{gx.fn.setControlValue(this.parmId(b.Ctrl),c,0)}b.Ctrl.setAttribute("gxvalid","0");gx.evt.execOnchange(b.Ctrl);var f=gx.dom.byId("span_"+b.Ctrl.name);if(f!=null){if(f.childNodes.length==0){f.appendChild(gx.popup.gxOpener().document.createTextNode(""))}var d=f.childNodes[0];d.nodeValue=c}},autofit:function(){var a=this.getPopup();if(!gx.lang.emptyObject(a)){this.ext.autofit(a,null,false)}},Impl:function(j,a,c,d,m,h,k,g){var b="PopupHeader";var l="PopupHeaderButton";var f="PopupContent";var e="PopupBorder";var i="PopupShadow";return new this.ext.popUp(j,c,h,g,k,d,m,"gxp",a,"white","#00385c","16pt serif","GxPopup","#00385c","white","lightgrey","#00568c","black",true,false,true,true,true,true,false,"min.gif","max.gif","close.gif","resize.gif",b,l,f,e,i,undefined)},setZIndex:function(a){var b=gx.dom.getStyle(a,"zIndex");if(isNaN(b)){b=999}b++;this.zindex=b;this.ext.zdx=b},ext:{w3c:gx.util.browser.w3c,ns4:gx.util.browser.ns4,ie5:gx.util.browser.ie5,ns6:gx.util.browser.ns6,isFF:gx.util.browser.isFirefox(),currIDb:null,xoff:0,yoff:0,currRS:null,rsxoff:0,rsyoff:0,zdx:1000,sdiff:5,win:null,doc:null,hide:function(b){if(this.w3c){var a=gx.dom.byId;a(b+"_t").style.visibility="hidden";a(b+"_c").style.visibility="hidden";a(b+"_rs").style.visibility="hidden";a(b+"_b").style.visibility="hidden";a(b+"_s").style.visibility="hidden"}},show:function(b){var a=gx.dom.byId;a(b+"_t").style.visibility="visible";a(b+"_c").style.visibility="visible";a(b+"_rs").style.visibility="visible";a(b+"_b").style.visibility="visible";a(b+"_s").style.visibility="visible"},close:function(c){gx.popup.ext.win=null;gx.popup.ext.doc=null;gx.popup.ext.currIDb=null;gx.popup.ext.currIDs=null;gx.popup.ext.currRS=null;var e=c.id;var d=document.getElementById(e+"_s");var b=document.getElementById(e+"_b");gx.dom.removeControlSafe(d);var a=document.getElementById(e+"_ifrm");if(a){a.src=""}if(gx.util.browser.isIE()&&gx.util.browser.ieVersion()==7){b.parentNode.removeChild(b)
}else{gx.dom.removeControlSafe(b)}gx.popup.ext.deinitmodal(c);gx.popup.setPopup(c.parentPopup);if(c.parentPopup){c.parentPopup.frameWindow.gx.fx.obs.notify("popup.close",[c])}else{gx.fx.obs.notify("popup.close",[c])}},move:function(d,b,f){if(this.w3c){var c=gx.dom.byId;var a=c(d+"_b");var e=c(d+"_c");var d=c(d+"_s");a.style.left=b+"px";d.style.left=b+this.sdiff+"px";a.style.top=f+"px";d.style.top=f+this.sdiff+"px";e.style.overflow="hidden"}},resize:function(a,c,b){if(this.w3c){var k=gx.dom.byId;if(k(a+"_rs").rsEnable){var e=k(a+"_extWA");var h=k(a+"_rs");var i=k(a+"_b");var g=k(a+"_t");var d=k(a+"_s");var j=k(a+"_c");var f=this.ie5;e.style.display="block";h.style.left=Math.max(c,((f)?88:92))+"px";h.style.top=Math.max(b,((f)?68:72))+"px";i.style.width=Math.max(c+((f)?12:8),100)+"px";i.style.height=Math.max(b+((f)?12:8),80)+"px";g.style.width=Math.max(c+((f)?4:3),((this.ns6)?95:92))+"px";d.style.width=Math.max(c+12,((f)?100:104))+"px";d.style.height=Math.max(b+((f)?12:13),((f)?80:86))+"px";j.style.width=Math.max(c-((f)?-5:5),((f)?92:87))+"px";j.style.height=Math.max(b-((f)?24:28),44)+"px";j.style.overflow="hidden"}}},ns6bugfix:function(){if(navigator.userAgent.indexOf("Netscape/6")>0){setTimeout("self.resizeBy(0,1); self.resizeBy(0,-1);",100)}},movepopup:function(){if((this.currIDb!=null)&&this.w3c){this.move(this.currIDb.cid,gx.evt.mouse.x+this.xoff,gx.evt.mouse.y+this.yoff)}if((this.currRS!=null)&&this.w3c){this.resize(this.currRS.cid,gx.evt.mouse.x+this.rsxoff,gx.evt.mouse.y+this.rsyoff)}return false},stopRS:function(){document.getElementById(this.cid+"_extWA").style.display="none";gx.popup.ext.currRS=null},startRS:function(a){var d=gx.popup.ext;var c=(d.ie5)?event.clientX+document.body.scrollLeft:a.pageX;var b=(d.ie5)?event.clientY+document.body.scrollTop:a.pageY;d.rsxoff=parseInt(this.style.left)-c;d.rsyoff=parseInt(this.style.top)-b;d.currRS=this;if(d.ns6){document.getElementById(this.cid+"_c").style.overflow="hidden"}return false},changez:function(a){var d=(a!=null)?a:this;var c=gx.popup.ext;var b=gx.dom.byId;if(c.ns6){b(d.cid+"_c").style.overflow="hidden"}b(d.cid+"_s").style.zIndex=++c.zdx;d.style.zIndex=++c.zdx;b(d.cid+"_rs").style.zIndex=++c.zdx},stopdrag:function(){var a=gx.popup.ext;a.currIDb=null;document.getElementById(this.cid+"_extWA").style.display="none";a.ns6bugfix()},grab_id:function(a){var e=gx.popup.ext;var d=gx.dom.byId;var c=(e.ie5)?event.clientX+document.body.scrollLeft:a.pageX;var b=(e.ie5)?event.clientY+document.body.scrollTop:a.pageY;e.xoff=parseInt(d(this.cid+"_b").style.left)-c;e.yoff=parseInt(d(this.cid+"_b").style.top)-b;e.currIDb=d(this.cid+"_b");e.currIDs=d(this.cid+"_s");d(this.cid+"_extWA").style.display="block";return false},subBox:function(b,g,c,e,a,f){var d=document.createElement("div");d.setAttribute("id",f);d.style.position="absolute";d.style.left=b+"px";d.style.top=g+"px";d.style.width=c+"px";d.style.height=e+"px";d.style.visibility="visible";d.style.padding="0px";return d},popUp:function(D,p,u,N,M,O,ad,i,B,ah,a,V,H,X,ac,aa,E,j,ak,ai,U,Z,T,c,k,C,Y,I,ae,K,Q,o,g,f,e){e=(e!==undefined)?e:gx.popup.showParentPopups;
var G=gx.popup.ext;var s=gx.basePath+gx.staticDirectory;if(D.parentPopup!=null){G.win=D.parentPopup.window;G.doc=G.win.document;G=G.win.gx.popup.ext;gx.popup.ext=G}else{G.win=window;G.doc=G.win.document}G.win.gx.popup.setPopup(D);D.window=G.win;D.document=G.doc;G.win.gx.popup.lvl++;i+=G.win.gx.popup.lvl;D.id=i;var n=function(h){return G.doc.getElementById(h)};if(!D.IsPrompt&&!gx.util.sameAppUrl(B)){ak=false;gx.popup.setPopup(null);var A=new Date();A=A.getTime();var P=(c)?B:"";var r="";if(u==1){r=(G.ns4)?"screenX="+N+",screenY="+M:"left="+N+",top="+M}var v="";if(p==0){v=",width="+O+",height="+ad}var R=window.open(P,"gx"+A,"status=no,menubar=no"+v+",resizable="+((Z)?"yes":"no")+",scrollbars=yes,"+r)}else{O=Math.max(O,100);ad=Math.max(ad,80);var L=new G.subBox(O-((G.ie5)?12:8),ad-((G.ie5)?12:8),7,7,"",i+"_rs");if(Z){L.innerHTML='<img src="'+gx.util.resourceUrl(s+ae,true)+'" width="7" height="7">';L.style.cursor="se-resize"}L.rsEnable=Z;var ab=(G.ie5)?O:O+4;var b=(G.ie5)?ad:ad+6;var J=new G.subBox(N+G.sdiff,M+G.sdiff,ab,b,j,i+"_s");J.className=f;if(G.ie5){J.style.filter="alpha(opacity=50)"}else{J.style.MozOpacity=0.5}J.style.zIndex=++G.zdx;if(!ai){J.style.visibility="hidden"}var ag=new G.subBox(N,M,O,ad,aa,i+"_b");ag.className=g;ag.style.display="block";ag.style.zIndex=++G.zdx;if(!ai){ag.style.visibility="hidden"}ab=(G.ie5)?O-8:O-5;b=(G.ie5)?ad+4:ad-4;var af=new G.subBox(2,2,ab,20,X,i+"_t");af.style.overflow="hidden";af.className=K;if(!ai){af.style.visibility="hidden"}af.innerHTML='<span id="'+i+'_gxtitle"  style="white-space:nowrap;position:absolute;padding: 2px;">'+H+'</span><span class="'+Q+'" style="z-index:'+(++G.zdx)+';" id="'+i+'_cls"></span>';ab=(G.ie5)?O-7:O-13;var l=new G.subBox(2,24,ab,ad-36,ah,i+"_c");l.className=o;B+=(B.indexOf("?")!=-1)?",":"?";B+=encodeURIComponent("gxPopupLevel="+G.win.gx.popup.lvl+";");var S=(gx.util.browser.isFirefox()&&p==1)?"hidden":"auto";l.innerHTML='<iframe id="'+i+'_ifrm" src="'+B+'" width="100%" height="100%" frameborder="0" scrolling="off" style="overflow:'+S+';"></iframe>';l.style.overflow="hidden";if(!ai){l.style.visibility="hidden"}if(!ai){ag.style.visibility="hidden"}var d=new G.subBox(2,24,0,0,"",i+"_extWA");d.style.display="none";d.style.width="100%";d.style.height="100%";ag.appendChild(af);ag.appendChild(l);ag.appendChild(d);ag.appendChild(L);G.doc.body.appendChild(J);G.doc.body.appendChild(ag);if(!ai){G.hide(i)}var z=n(i+"_b");z.cid=i;z.isExt=(c)?true:false;var m=n(i+"_t");m.cid=i;if(Z){var F=n(i+"_rs");F.cid=i;F.onmousedown=G.startRS;F.onmouseup=G.stopRS}var q=n(i+"_cls");var W=n(i+"_extWA");z.activecolor=X;z.inactivecolor=E;q.onclick=D.close.closure(D);if(U){m.onmousedown=G.grab_id;m.onmouseup=G.stopdrag}var aj=n(i+"_ifrm");gx.lang.doCallTimeout(G.showIfLoaded,G,[D,aj,1],50)}if(ak||e){G.initmodal(D,e)}},initmodal:function(c,b){c.showParentPopups=b;if(c.parentPopup==null){gx.ajax.disableForm()}else{if(b){var d=gx.http.notification.node();var a=gx.dom.el(c.id+"_b");if(d&&a){d.style.zIndex=parseInt(a.style.zIndex)-1
}}else{this.hide(c.parentPopup.id)}}},deinitmodal:function(b){if(b.parentPopup==null){gx.ajax.enableForm()}else{if(b.showParentPopups){var c=gx.http.notification.node();var a=gx.dom.el(b.parentPopup.id+"_b");if(c&&a){c.style.zIndex=parseInt(a.style.zIndex)-1}}this.show(b.parentPopup.id)}},showIfLoaded:function(b,a,f){try{if(this.docReady(a,f)){var c=gx.dom.iFrameDoc(a);b.state="opened";this.autofit(b,c,true);return}}catch(d){gx.dbg.logEx(d,"gxpopup.js","showIfLoaded")}f++;gx.lang.doCallTimeout(gx.popup.ext.showIfLoaded,gx.popup.ext,[b,a,f],f*50)},docReady:function(b,d){if(b.readyState=="complete"){return true}var c=gx.dom.iFrameDoc(b);if(c&&!gx.util.browser.isWebkit()){var a=(typeof(c.gxReadyState)!="undefined")?c.gxReadyState:c.readyState;if(a=="complete"){return true}}if(!gx.util.browser.isIE()&&d>=10&&c&&c.body&&c.body.childNodes.length!=0){return true}return false},autofit:function(u,G,A){if(gx.lang.emptyObject(u)){return}var F=document;if(F.gxPopup!=null){u.zindex=this.zdx+F.gxPopup.zindex}else{u.zindex=this.zdx}var q=u.id;if(!this.doc){this.doc=u.document}F=this.doc;var t=F.getElementById(q+"_ifrm");if(!G&&gx.popup.ispopup()){G=gx.dom.iFrameDoc(t)}u.frameDocument=G;u.frameWindow=t.contentWindow;if(G){G.gxPopup=u}var w=F.getElementById(q+"_rs");var x=F.getElementById(q+"_s");var i=F.getElementById(q+"_t");var l=F.getElementById(q+"_b");var D=F.getElementById(q+"_c");var a=F.getElementById(q+"_gxtitle");var c=parseInt(D.style.height);var z=parseInt(D.style.width);var m;var B;var b;var v;var k=0;var j=0;var g=true;try{if(window.frameElement){window.frameElement.id}}catch(y){g=false;gx.dbg.logEx(y,"gxpopup.js","autofit")}if(!g||window==window.top||gx.lang.emptyObject(window.top)){m=F.body.clientWidth;B=F.body.clientHeight;b=F.body.scrollTop;v=F.body.scrollLeft}else{var o=gx.dom.position(window.frameElement);m=Math.min(window.top.document.body.clientWidth,F.body.clientWidth);if(window.top.document.body.clientHeight>F.body.clientHeight){B=F.body.clientHeight}else{B=window.top.document.body.clientHeight;j=o.y}if(window.top.document.body.clientWidth>F.body.clientWidth){m=F.body.clientWidth}else{m=window.top.document.body.clientWidth;k=o.x}b=F.body.scrollTop;v=F.body.scrollLeft}var s=gx.dom.dimensions(l);if(u.autoresize==0){c=u.height-c+s.h;z=u.width-z+s.w}var r=u.width-z;var C=u.height-c;if(u.autoresize!=0){if(G&&G.body){var d=G.body.scrollWidth+30-m;var n=G.body.scrollHeight+30-B;var E=gx.util.browser.isIE()?1:0;r=Math.max(G.body.scrollWidth,a.clientWidth+10)-z-((d>0)?d:0);C=G.body.scrollHeight-c-((n>0)?n:0)+E}}var p=parseInt(u.top);var f=parseInt(u.left);if(u.position==0){p=(B-C)/2-(s.h/2)+b-j;f=(m-r)/2-(s.w/2)+v-k;if(p<0){p=5;C=C-5}if(f<0){f=5;r=r-5}}l.style.top=parseInt(p)+"px";l.style.left=parseInt(f)+"px";x.style.top=parseInt(p)+this.sdiff+"px";x.style.left=parseInt(f)+this.sdiff+"px";if(u.autoresize==0){c=u.height;z=u.width;var h=this.ie5;w.style.left=Math.max(z,((h)?88:92))+"px";w.style.top=Math.max(c,((h)?68:72))+"px";l.style.width=Math.max(z+((h)?12:8),100)+"px";
l.style.height=Math.max(c+((h)?12:8),80)+"px";i.style.width=Math.max(z+((h)?4:3),((this.ns6)?95:92))+"px";x.style.width=Math.max(z+12,((h)?100:104))+"px";x.style.height=Math.max(c+((h)?12:13),((h)?80:86))+"px";D.style.width=Math.max(z-((h)?-5:5),((h)?92:87))+"px";D.style.height=Math.max(c-((h)?24:28),44)+"px"}else{w.style.top=parseInt(w.style.top)+C+"px";w.style.left=parseInt(w.style.left)+r+"px";x.style.height=parseInt(x.style.height)+C+"px";x.style.width=parseInt(x.style.width)+r+"px";i.style.width=parseInt(i.style.width)+r+"px";l.style.height=parseInt(l.style.height)+C+"px";l.style.width=parseInt(l.style.width)+r+"px";D.style.height=parseInt(D.style.height)+C+"px";D.style.width=parseInt(D.style.width)+r+"px"}D.style.overflow="hidden";a.innerHTML=G?G.title:"";if(A){this.show(q)}},_init:function(){this.w3c=gx.util.browser.w3c;this.ns4=gx.util.browser.ns4;this.ie5=gx.util.browser.ie5;this.ns6=gx.util.browser.ns6;setInterval(gx.popup.ext.movepopup.closure(gx.popup.ext),40)}},_init:function(){this.ext._init();var b=this.getPopup();if(b){try{if(b.frameDocument){b.frameDocument.gxPopup=b}}catch(c){b.frameDocument=b.frameWindow.document;gx.dbg.logEx(c,"gxpopup.js","_init")}var a=b.window.gx.popup;gx.fx.obs.addObserver("gx.onload",a,function(){this.autofit()}.closure(a));gx.fx.obs.addObserver("grid.onafterrefresh",a,function(e,d,f){if(d<f){this.autofit()}}.closure(a));gx.fx.obs.addObserver("gx.onafterevent",a,function(d){this.autofit()}.closure(a))}}};